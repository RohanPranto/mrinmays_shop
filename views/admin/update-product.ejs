<%- include('../include/head.ejs' ) %>
  <link rel="stylesheet" href="/css/add-product.css">
  </head>

  <body>
    <%- include('../include/navigation.ejs') %>

      <div class="container">
        <% if (errorMessage) { %>
          <div class="error-message">
            <%= errorMessage %>
          </div>
          <% } %>

            <% if (editing) { %>
              <h2>Update Product</h2>
              <% } else { %>
                <h2>Add New Product</h2>
                <% } %>

                  <form id="add-product-form" method="post" enctype="multipart/form-data"
                    action="/admin/<%= editing ? 'update-product/' + product._id : 'add-product' %>">
                    <div class="form-group">
                      <label for="productName">Product Name:</label>
                      <input type="text" id="productName" name="name" value="<%= editing ? product.name : '' %>"
                        required>
                    </div>

                    <div class="form-group">
                      <label for="productDescription">Product Description:</label>
                      <textarea id="productDescription" name="description"
                        rows="4"><%= editing ? product.description : '' %></textarea>
                    </div>

                    <div class="form-group">
                      <label for="productPrice">Price:</label>
                      <input type="number" id="productPrice" name="price" value="<%= editing ? product.price : '' %>">
                    </div>

                    <div class="form-group">
                      <label for="productCategory">Category:</label>
                      <select id="productCategory" name="category">
                        <option value="">Select Category</option>
                        <option value="helmets" <%=editing && product.category==='helmets' ? 'selected' : '' %>>Helmets
                        </option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label for="productType">Sell/Rent:</label>
                      <select id="productType" name="type">
                        <option value="">Select Types</option>
                        <option value="sellable" <%=editing && product.type==='sellable' ? 'selected' : '' %>>Sell
                        </option>
                        <option value="rentable" <%=editing && product.type==='rentable' ? 'selected' : '' %>>Rent
                        </option>
                      </select>
                    </div>


                    <div class="form-group">
                      <!-- <label for="imageUrl">Image Upload:</label> -->
                      <!-- <input type="file" id="imageUrl" name="imageUrl"> -->
                      <!-- <input type="file" id="imageUrl" name="imageUrl"> -->
                      <!-- <input type="file" id="imageUrl" name="imageUrl">  -->

                      <!-- <div class="form-control"> -->
                        <label for="image">Image</label>
                        <input type="file" name="image" id="image">
                    <!-- </div> -->
                    </div>

                    <button type="submit">
                      <%= editing ? 'Update Product' : 'Add Product' %>
                    </button>
                  </form>
      </div>

      <%- include('../include/footer.ejs') %>